<html>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Aneureka" />
  <meta name="description" content="è¦æŠ€è‰ºè¶…ç¾¤ï¼Œè¦äºˆäººæ¸©æš–ã€‚" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta
    property="og:title"
    content="Type traits ç»ƒä¹ ï¼šåƒæ“ä½œ vector ä¸€æ ·æ“ä½œ tuple ç±»å‹ Â· æ•£è½çš„å¶å­"
  />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://www.aneureka.cn/type-traits-practice-tuple-type-2023-07-30/index.html" />
  <meta property="og:description" content="è¦æŠ€è‰ºè¶…ç¾¤ï¼Œè¦äºˆäººæ¸©æš–ã€‚" />
  <meta property="og:image" content="https://www.aneureka.cn/img/favicon.ico" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@Aneureka" />
  <meta name="twitter:url" content="https://www.aneureka.cn/type-traits-practice-tuple-type-2023-07-30/index.html" />
  <meta name="twitter:title" content="æ•£è½çš„å¶å­" />
  <meta name="twitter:description" content="è¦æŠ€è‰ºè¶…ç¾¤ï¼Œè¦äºˆäººæ¸©æš–ã€‚" />
  <meta name="twitter:image" content="https://www.aneureka.cn/img/cover.png" />
  <title>
    Type traits ç»ƒä¹ ï¼šåƒæ“ä½œ vector ä¸€æ ·æ“ä½œ tuple ç±»å‹ Â· æ•£è½çš„å¶å­
  </title>
  
  <link rel="icon" href="/img/favicon.ico" />
  <link rel="apple-touch-icon" href="/img/favicon.ico" />
  <link rel="bookmark" href="/img/favicon.ico" />
  <link rel="shortcut icon" href="/img/favicon.ico" />
  
  <link
    rel="stylesheet"
    href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-light.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css"
  />
  
<link rel="stylesheet" href="/css/blog.css">

  
<link rel="stylesheet" href="/css/global.css">

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="æ•£è½çš„å¶å­" type="application/atom+xml">
</head>

  <body>
    <div class="blog-header section">
  <nav>
    <div class="container main header">
      <a href="/">
        <img class="logo" src="/img/favicon.ico" />
      </a>
      <div class="menu">
        
        <a class="menu-item" href="/">
          <span class="menu-item-text">æ•£è½çš„å¶å­</span>
        </a>
        
      </div>
    </div>
  </nav>
</div>
 <div class="section">
  <div class="container main post">
    
    <!-- Title -->
    <h2 class="title">Type traits ç»ƒä¹ ï¼šåƒæ“ä½œ vector ä¸€æ ·æ“ä½œ tuple ç±»å‹</h2>
    <!-- Date and Author -->
    <p class="subtitle is-7 has-text-grey">
      2023-07-30 by Aneureka
    </p>
    
    <!-- Content -->
    <article class="markdown-body"><p><em>å‰æ’æé†’ï¼šæœ¬æ–‡ä»…åšå­¦ä¹ äº¤æµä¹‹ç”¨ï¼Œå®é™…é¡¹ç›®ä¸­å¦‚æœ‰æ¡ä»¶è¯·å°½é‡ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/constraints">Constraints and concepts</a> (since C++20) ã€‚</em></p>
<p>Type traits æ˜¯ C++ ä¸­é€šè¿‡ <a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/sfinae">SFINAE</a> (Substitution Failure Is Not An Error) æœºåˆ¶åœ¨ç¼–è¯‘æœŸè·å–é™æ€ç±»å‹ä¿¡æ¯çš„ä¸€ç§æŠ€æœ¯ã€‚ç”±äºå•ä¸€æ¨¡æ¿ç‰¹åŒ–åŒ¹é…å¤±è´¥å¹¶ä¸ä¸€å®šé€ æˆæœ€ç»ˆç¼–è¯‘å¤±è´¥ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æ„é€ ä¸€äº›æ¨¡æ¿çš„ç‰¹åŒ–ï¼Œå»å°è¯•åŒ¹é…ä¸€ä¸ªé™æ€ç±»å‹ï¼Œå¦‚æœåŒ¹é…ä¸Šäº†ï¼Œé‚£<strong>è¯´æ˜è¿™ä¸ªé™æ€ç±»å‹ç¬¦åˆæˆ‘ä»¬è§„å®šçš„ä¸€äº›æ€§è´¨</strong>ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ€§è´¨å»æå–æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯ï¼Œä»è€Œå®ç°â€œèƒå–â€ã€‚</p>
<h2 id="ä»-enable-if-è¯´èµ·"><a href="#ä»-enable-if-è¯´èµ·" class="headerlink" title="ä» enable_if è¯´èµ·"></a>ä» <code>enable_if</code> è¯´èµ·</h2><p>åœ¨è¿›å…¥æ­£æ–‡ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆä¸¾ä¸ªç»å…¸ä¸”ç®€å•çš„ä¾‹å­â€”â€”å®ç°ä¸€ä¸ª <a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/types/enable_if"><code>enable_if</code></a>ï¼Œåˆæ­¥æ„Ÿå—ä¸€ä¸‹ Type traitsã€‚</p>
<pre><code class="cpp">template &lt;bool Cond, typename T = void&gt;
struct enable_if &#123;&#125;;
</code></pre>
<p>é¦–å…ˆ <code>enable_if</code> çš„æ¨¡æ¿å‚æ•°åº”è¯¥å«æœ‰åˆ¤æ–­æ¡ä»¶ <code>Cond</code>ï¼Œä»¥åŠä¸€ä¸ªå¯é€‰çš„æ¡ä»¶æˆç«‹æ—¶è¿”å›çš„ç±»å‹ <code>T</code>ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ª <code>enable_if</code> çš„åç‰¹åŒ–æ¥å®ç°è¿™ä¸ªèƒå–ã€‚</p>
<pre><code class="cpp">template &lt;typename T&gt;
struct enable_if&lt;true, T&gt; &#123;
    using type = T;
&#125;
</code></pre>
<p>è¿™æ ·ï¼Œå¤–éƒ¨åœ¨éœ€è¦å¯¹æŸä¸ªç±»å‹åšä¸€äº›çº¦æŸçš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>enable_if</code> æ¥å®ç°äº†ï¼ˆ<code>enable_if</code> å¯ä»¥ç”¨åœ¨å¾ˆå¤šåœ°æ–¹ï¼‰</p>
<pre><code class="cpp">// å½“ T ä¸æ˜¯æ•´æ•°ç±»å‹æ—¶ï¼Œenable_if ç»“æ„ä½“å†…æ²¡æœ‰ typeï¼Œæ­¤æ—¶æ¨¡æ¿åŒ¹é…å¤±è´¥
// ç”±äºå·²ç»æ²¡æœ‰å…¶ä»–æ¨¡æ¿ï¼Œå› æ­¤æœ€ç»ˆç¼–è¯‘å¤±è´¥
template &lt;typename T, typename = enable_if&lt;std::is_integral_v&lt;T&gt;&gt;::type&gt;
void do_sth_on_integral(T &amp;&amp;) &#123;&#125;
</code></pre>
<p>ä»¥ä¸Šä»£ç å¯ä»¥åœ¨ <a target="_blank" rel="noopener" href="https://godbolt.org/z/n7KWhMKzv">godbolts</a> è‡ªå·±å°è¯•ä¸€ä¸‹ã€‚</p>
<h2 id="ä¸€äº›æœ‰ç”¨çš„å·¥å…·"><a href="#ä¸€äº›æœ‰ç”¨çš„å·¥å…·" class="headerlink" title="ä¸€äº›æœ‰ç”¨çš„å·¥å…·"></a>ä¸€äº›æœ‰ç”¨çš„å·¥å…·</h2><p>å†å¼€å§‹ç ”ç©¶ Tuple çš„ç±»å‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆåŸºäº boost å†™ä¸ªæ‰“å°å‚æ•°ç±»å‹å’Œå‚æ•°å–å€¼çš„å·¥å…·å‡½æ•°ï¼Œæ–¹ä¾¿åç»­éªŒè¯å’Œæµ‹è¯•ã€‚</p>
<pre><code class="cpp">#include &lt;boost/type_index.hpp&gt;
#include &lt;iostream&gt;

using boost::typeindex::type_id_with_cvr;

template &lt;typename T&gt;
constexpr void print_type() &#123;
  std::cout &lt;&lt; type_id_with_cvr&lt;T&gt;().pretty_name() &lt;&lt; &quot;\n&quot;;
&#125;

constexpr void print_value(auto &amp;&amp;value) &#123;
  std::cout &lt;&lt; value &lt;&lt; &quot;\n&quot;;
&#125;
</code></pre>
<h2 id="å£°æ˜ä¸€ä¸ª-Tuple"><a href="#å£°æ˜ä¸€ä¸ª-Tuple" class="headerlink" title="å£°æ˜ä¸€ä¸ª Tuple"></a>å£°æ˜ä¸€ä¸ª Tuple</h2><p>å›åˆ°ä¸»é¢˜ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ª Tuple æ¥ä¿å­˜ç±»å‹åˆ—è¡¨ä¿¡æ¯ï¼ˆå¦‚æœå¯¹å¯å˜æ¨¡æ¿å‚æ•°è¿˜ä¸äº†è§£å¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/parameter_pack">è¿™é‡Œ</a>ï¼‰ã€‚</p>
<pre><code class="cpp">template &lt;typename... Ts&gt;
struct Tuple &#123;&#125;;

print_type&lt;Tuple&lt;int, float&gt;&gt;(); // Tuple&lt;int, float&gt;
</code></pre>
<p><em>æ³¨æ„ï¼Œç”±äºæœ¬æ–‡æˆ‘ä»¬åªå…³æ³¨å¯¹ Tuple ç±»å‹çš„æ“ä½œï¼Œå› æ­¤è¿™é‡Œå¹¶ä¸å¯¹ Tuple çš„å®šä¹‰åšä»»ä½•ç»†åŒ–ã€‚</em></p>
<h2 id="concat-type-åˆå¹¶ä¸¤ä¸ª-Tuple-çš„ç±»å‹"><a href="#concat-type-åˆå¹¶ä¸¤ä¸ª-Tuple-çš„ç±»å‹" class="headerlink" title="concat_type: åˆå¹¶ä¸¤ä¸ª Tuple çš„ç±»å‹"></a><code>concat_type</code>: åˆå¹¶ä¸¤ä¸ª Tuple çš„ç±»å‹</h2><p>æˆ‘ä»¬å…ˆä»ä¸€ä¸ªç®€å•çš„ä¾‹å­å¼€å§‹ï¼Œè¯•ç€åˆå¹¶ä¸¤ä¸ª Tuple çš„ç±»å‹ï¼Œæ„é€ ä¸€ä¸ªæ–°çš„ Tupleï¼Œå¯ä»¥æƒ³åˆ°é»˜è®¤æ¨¡æ¿åº”è¯¥æ˜¯é•¿è¿™æ ·ï¼š</p>
<pre><code class="cpp">template &lt;typename Tup1, typename Tup2&gt;
struct concat_type &#123;&#125;;
</code></pre>
<p>è¿™ä¸ªé»˜è®¤æ¨¡æ¿éƒ½æ²¡æœ‰å¯¹ <code>Tup1</code>ã€<code>Tup2</code> åšä»»ä½•çº¦æŸï¼Œå®ƒä»¬ç”šè‡³éƒ½ä¸ä¸€å®šæ˜¯ <code>Tuple</code> ç±»å‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦<strong>å‡è®¾ <code>Tup1</code>ã€<code>Tup2</code> æ˜¯ç”±ç‰¹å®šç±»å‹åºåˆ—æ„æˆçš„ Tuple ç±»å‹ï¼Œå¹¶åŸºäºè¿™ä¸ªå‡è®¾æ„é€ ä¸€ä¸ªåç‰¹åŒ–æ¨¡æ¿</strong>ï¼š</p>
<pre><code class="cpp">// å‡è®¾ Tup1 æ˜¯ Tuple&lt;Ts1...&gt;ï¼ŒTup2 æ˜¯ Tuple&lt;Ts2...&gt;ï¼ŒåŸºäºæ­¤ç¼–å†™åç‰¹åŒ–æ¨¡æ¿ï¼Œ
// å¦‚æœåŒ¹é…åˆ°è¿™ä¸ªåç‰¹åŒ–æ¨¡æ¿è¯´æ˜ç±»å‹å‚æ•°ç¬¦åˆè¿™ä¸ªå‡è®¾
template &lt;typename... Ts1, typename... Ts2&gt;
struct concat_type&lt;Tuple&lt;Ts1...&gt;, Tuple&lt;Ts2...&gt;&gt; &#123;
  using type = Tuple&lt;Ts1..., Ts2...&gt;;
&#125;;

print_type&lt;concat_type&lt;Tuple&lt;int, float&gt;, Tuple&lt;char&gt;&gt;::type&gt;(); // Tuple&lt;int, float, char&gt;
</code></pre>
<h2 id="push-front-type-åœ¨-Tuple-å‰é¢æ·»åŠ ä¸€ä¸ªç±»å‹"><a href="#push-front-type-åœ¨-Tuple-å‰é¢æ·»åŠ ä¸€ä¸ªç±»å‹" class="headerlink" title="push_front_type: åœ¨ Tuple å‰é¢æ·»åŠ ä¸€ä¸ªç±»å‹"></a><code>push_front_type</code>: åœ¨ Tuple å‰é¢æ·»åŠ ä¸€ä¸ªç±»å‹</h2><p>ç±»ä¼¼åœ°ï¼Œé»˜è®¤æ¨¡æ¿è¿˜æ˜¯æ¯”è¾ƒå¥½å®šä¹‰çš„ï¼š</p>
<pre><code class="cpp">template &lt;typename T, typename Tup&gt;
struct push_front_type &#123;&#125;;
</code></pre>
<p>åŒæ ·ï¼Œæˆ‘ä»¬åŸºäº ã€Œ<code>Tup</code> æ˜¯ <code>Tuple&lt;Ts...&gt;</code> ç±»å‹ã€ è¿™ä¸ªå‡è®¾ç¼–å†™åç‰¹åŒ–æ¨¡æ¿ï¼š</p>
<pre><code class="cpp">// æ„é€ ä¸€ä¸ª push_front_type çš„åç‰¹åŒ–æ¥å®¹çº³ç‰¹å®šç±»å‹çš„ Tuple
template &lt;typename T, typename... Ts&gt;
struct push_front_type&lt;T, Tuple&lt;Ts...&gt;&gt; &#123; 
  using type = Tuple&lt;T, Ts...&gt;; // ç„¶åæˆ‘ä»¬å°±å¯ä»¥åˆå¹¶å£°æ˜ä¸€ä¸ªæ–°çš„ Tuple ç±»å‹äº†
&#125;;
</code></pre>
<p><code>push_back_type</code>ã€<code>pop_front_type</code>ã€<code>pop_back_type</code> ä¹Ÿæ˜¯å·®ä¸å¤šçš„ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œç•™ç»™èªæ˜çš„è¯»è€…æœ‰ç©ºç»ƒä¹ ~</p>
<h2 id="insert-type-åœ¨-Tuple-ä¸­æ’å…¥ä¸€ä¸ªç±»å‹"><a href="#insert-type-åœ¨-Tuple-ä¸­æ’å…¥ä¸€ä¸ªç±»å‹" class="headerlink" title="insert_type: åœ¨ Tuple ä¸­æ’å…¥ä¸€ä¸ªç±»å‹"></a><code>insert_type</code>: åœ¨ Tuple ä¸­æ’å…¥ä¸€ä¸ªç±»å‹</h2><pre><code class="cpp">template &lt;size_t N, typename T, typename Tup&gt;
struct insert_type &#123;&#125;;
</code></pre>
<p><code>insert_type</code> çš„æ¨¡æ¿å¤šäº†ä¸€ä¸ªæ¨¡æ¿å‚æ•° N è¡¨ç¤ºæ’å…¥çš„ä½ç½®ï¼Œçœ‹èµ·æ¥è¦éš¾ä¸€äº›ã€‚è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦åˆ©ç”¨é€’å½’çš„æ€æƒ³â€”â€”åœ¨ Tuple ç¬¬ <code>N</code> ä¸ªä½ç½®æ’å…¥ç±»å‹ <code>T</code>ï¼Œç­‰ä»·äºæŠŠ Tuple çš„ç¬¬ä¸€ä¸ªç±»å‹ <code>T0</code> æå–å‡ºæ¥ä¹‹åï¼Œä¸ Tuple çš„å‰©ä½™ç±»å‹çš„ç¬¬ <code>N - 1</code> ä¸ªä½ç½®æ’å…¥ç±»å‹ <code>T</code> åˆå¹¶èµ·æ¥ï¼Œå³ <code>insert_type&lt;N, T, Tup&lt;T0, Ts...&gt;&gt;::type == concat_type&lt;Tuple&lt;T0&gt;, insert_type&lt;N - 1, T, typename Tuple&lt;Ts...&gt;&gt;&gt;::type</code>ï¼š</p>
<pre><code class="cpp">// åç‰¹åŒ– 1
template &lt;size_t N, typename T, typename T0, typename... Ts&gt;
struct insert_type&lt;N, T, Tuple&lt;T0, Ts...&gt;&gt; &#123;
  using type = concat_type&lt;Tuple&lt;T0&gt;, typename insert_type&lt;N - 1, T, Tuple&lt;Ts...&gt;&gt;::type&gt;::type; // è¿™é‡Œ typename è¡¨æ˜ ::type æ˜¯ç±»å‹è€Œä¸æ˜¯å…¶ä»–ä¸œè¥¿
&#125;;
</code></pre>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å¯¹é€’å½’ç»ˆæ­¢çš„æƒ…å†µåšåç‰¹åŒ–ï¼š</p>
<pre><code class="cpp">// åç‰¹åŒ– 2: å½“ N == 0 ä¸” Tuple ä»å‰©ä½™éƒ¨åˆ†ç±»å‹æ—¶ï¼Œç±»å‹ T æ’å…¥åˆ°å½“å‰ Tuple çš„æœ€å‰æ–¹
template &lt;typename T, typename T0, typename... Ts&gt;
struct insert_type&lt;0, T, Tuple&lt;T0, Ts...&gt;&gt; &#123;
 using type = Tuple&lt;T, T0, Ts...&gt;;
&#125;;

// åç‰¹åŒ– 3: å½“ N == 0 ä¸” Tuple å·²ç»æ²¡æœ‰ç±»å‹æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›ä¸€ä¸ª Tuple&lt;T&gt;
template &lt;typename T&gt;
struct insert_type&lt;0, T, Tuple&lt;&gt;&gt; &#123;
  using type = Tuple&lt;T&gt;;
&#125;;
</code></pre>
<p>å¯èƒ½æœ‰å°ä¼™ä¼´ä¼šé—®ï¼Œä¸ºä»€ä¹ˆéœ€è¦ <code>T0</code>ï¼Ÿå»æ‰ <code>T0</code> åï¼Œä¸¤ä¸ªåç‰¹åŒ–æ¨¡æ¿ä¸å°±èƒ½åˆå¹¶ä¸ºä¸€ä¸ªäº†ï¼Œçœ‹èµ·æ¥è¿˜æ›´ç®€æ´ï¼š</p>
<pre><code class="cpp">template &lt;typename T, typename... Ts&gt;
struct insert_type&lt;0, T, Tuple&lt;Ts...&gt;&gt; &#123;
 using type = Tuple&lt;T, Ts...&gt;;
&#125;;
</code></pre>
<p>è¿™é‡Œä¸»è¦æ˜¯å› ä¸ºè¿™ä¸ªåç‰¹åŒ–ä¸åç‰¹åŒ– 1 ç‰¹åŒ–ç¨‹åº¦ç›¸åŒï¼ˆä¸€ä¸ªå¯¹ <code>N</code> æ›´åŠ ç‰¹åŒ–ï¼Œä¸€ä¸ªå¯¹ <code>Tup</code> æ›´åŠ ç‰¹åŒ–ï¼‰ï¼Œå› æ­¤<strong>ç¼–è¯‘å™¨æ— æ³•å†³è®®ä½¿ç”¨å“ªä¸ªåç‰¹åŒ–æ¨¡æ¿</strong>ã€‚</p>
<p>å¦å¤–ï¼Œ<code>erase_type</code> ä¸ <code>insert_type</code> æ˜¯ç±»ä¼¼çš„ï¼Œç•™ç»™è¯»è€…å®ç°å•¦~</p>
<h2 id="get-type-è·å–-Tuple-ç‰¹å®šä¸‹æ ‡çš„ç±»å‹"><a href="#get-type-è·å–-Tuple-ç‰¹å®šä¸‹æ ‡çš„ç±»å‹" class="headerlink" title="get_type: è·å– Tuple ç‰¹å®šä¸‹æ ‡çš„ç±»å‹"></a><code>get_type</code>: è·å– Tuple ç‰¹å®šä¸‹æ ‡çš„ç±»å‹</h2><p>å®šä¹‰å¥½é»˜è®¤æ¨¡æ¿ï¼š</p>
<pre><code class="cpp">template &lt;size_t N, typename Tup&gt;
struct get_type &#123;&#125;;
</code></pre>
<p>åŒæ ·ä½¿ç”¨é€’å½’çš„æ€è·¯ï¼Œå¦‚æœå½“å‰ <code>N</code> ä¸ä¸º 0ï¼Œæˆ‘ä»¬å°±å¿½ç•¥ Tuple ä¸­çš„ç¬¬ä¸€ä¸ªç±»å‹ï¼Œå–ä»ç¬¬äºŒä¸ªç±»å‹å¼€å§‹çš„ç¬¬ <code>N - 1</code> ä¸ªï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>å› æ­¤ï¼Œåœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å‡è®¾å½“å‰ Tuple ä¸­æ˜¯å­˜åœ¨ä¸€ä¸ªä»¥ä¸Šç±»å‹çš„ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥æŠŠç¬¬ä¸€ä¸ªèƒå–å‡ºæ¥ï¼Œå†™ä¸€ä¸ª <code>get_type</code> çš„åç‰¹åŒ–æ¨¡æ¿ï¼š</p>
<pre><code class="cpp">template &lt;size_t N, typename T, typename... Ts&gt;
struct get_type&lt;N, Tuple&lt;T, Ts...&gt;&gt; &#123;
  // åˆ©ç”¨ get_type&lt;N, Tuple&lt;T, Ts...&gt; == get_type&lt;N - 1, Tuple&lt;Ts...&gt;&gt; é€’æ¨å¼
  using type = get_type&lt;N - 1, Tuple&lt;Ts...&gt;&gt;::type;
&#125;;
</code></pre>
<p>ä»¥ä¸Šçš„é€’å½’åç‰¹åŒ–å¹¶æ²¡æœ‰ä¸€ä¸ªç»ˆæ­¢æ¡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åŠ ä¸Šå½“ <code>N == 0</code> çš„æƒ…å†µï¼š</p>
<pre><code class="cpp">template &lt;typename T, typename... Ts&gt;
struct get_type&lt;0, Tuple&lt;T, Ts...&gt;&gt; &#123;
  using type = T; // å½“ N == 0 æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥å–å½“å‰ tuple çš„ç¬¬ä¸€ä¸ªç±»å‹
&#125;;
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±å®ç°äº†å¯¹ç‰¹å®šä¸‹è¡¨ Tuple ç±»å‹çš„è·å–ã€‚</p>
<pre><code class="cpp">print_type&lt;get_type&lt;1, Tuple&lt;int, float&gt;&gt;::type&gt;(); // float
print_type&lt;get_type&lt;2, Tuple&lt;int, float&gt;&gt;::type&gt;(); // compile error: no type named &#39;type&#39; in &#39;get_type&lt;0, Tuple&lt;&gt;&gt;&#39;
</code></pre>
<h2 id="front-type-è·å–-Tuple-çš„ç¬¬ä¸€ä¸ªç±»å‹"><a href="#front-type-è·å–-Tuple-çš„ç¬¬ä¸€ä¸ªç±»å‹" class="headerlink" title="front_type: è·å– Tuple çš„ç¬¬ä¸€ä¸ªç±»å‹"></a><code>front_type</code>: è·å– Tuple çš„ç¬¬ä¸€ä¸ªç±»å‹</h2><p>å‰é¢æˆ‘ä»¬å·²ç»å®ç°äº† <code>get_type</code>ï¼Œå› æ­¤ <code>front_type</code> å®é™…ä¸Šç›´æ¥ç»§æ‰¿ <code>get_type</code> å°±å¯ä»¥äº†ï¼š</p>
<pre><code class="cpp">template &lt;typename Tup&gt;
struct front_type : public get_type&lt;0, Tup&gt; &#123;&#125;;

print_type&lt;get_type&lt;0, Tuple&lt;int, float&gt;&gt;::type&gt;(); // int
</code></pre>
<p>ç„¶è€Œï¼Œ<code>back_type</code> å°±æ²¡æœ‰é‚£ä¹ˆç›´æ¥äº†ï¼Œå› ä¸ºæˆ‘ä»¬é¦–å…ˆéœ€è¦çŸ¥é“ Tuple ä¸­æœ‰å¤šå°‘ä¸ªç±»å‹ã€‚å¯ä»¥åœ¨å®ç° <code>size_type</code> ä¹‹åå†ç»§æ‰¿ <code>get_type</code> å®ç°ï¼ˆç•™ç»™è¯»è€…åšä½œä¸š ğŸ¥µ æ‡’ï¼‰</p>
<h2 id="empty-type-åˆ¤æ–­-Tuple-ç±»å‹æ˜¯å¦ä¸ºç©º"><a href="#empty-type-åˆ¤æ–­-Tuple-ç±»å‹æ˜¯å¦ä¸ºç©º" class="headerlink" title="empty_type: åˆ¤æ–­ Tuple ç±»å‹æ˜¯å¦ä¸ºç©º"></a><code>empty_type</code>: åˆ¤æ–­ Tuple ç±»å‹æ˜¯å¦ä¸ºç©º</h2><p>è¿™ä¸ªä¹Ÿå¾ˆç®€å•ï¼Œåªæ˜¯æ­¤æ—¶ç»“æ„ä½“ä¸­åŒ…å«çš„ä¸å†æ˜¯ typeï¼Œè€Œæ˜¯æ ‡è¯† Tuple ç±»å‹æ˜¯å¦ä¸ºç©ºçš„é™æ€å¸ƒå°”å€¼å¸¸é‡äº†ã€‚</p>
<pre><code class="cpp">template &lt;typename Tup&gt;
struct empty_type &#123;
  static constexpr bool value = false;
&#125;;

template &lt;&gt;
struct empty_type&lt;Tuple&lt;&gt;&gt; &#123;
  static constexpr bool value = true;
&#125;;

print_value(empty_type&lt;Tuple&lt;int&gt;&gt;::value); // 0
print_value(empty_type&lt;Tuple&lt;&gt;&gt;::value);    // 1
</code></pre>
<h2 id="size-type-è·å–-Tuple-ç±»å‹çš„ä¸ªæ•°"><a href="#size-type-è·å–-Tuple-ç±»å‹çš„ä¸ªæ•°" class="headerlink" title="size_type: è·å– Tuple ç±»å‹çš„ä¸ªæ•°"></a><code>size_type</code>: è·å– Tuple ç±»å‹çš„ä¸ªæ•°</h2><pre><code class="cpp">template &lt;typename Tup&gt;
struct size_type &#123;&#125;;

template &lt;&gt;
struct size_type&lt;Tuple&lt;&gt;&gt; &#123;
  static constexpr size_t value = 0;
&#125;;

template &lt;typename T0, typename... Ts&gt;
struct size_type&lt;Tuple&lt;T0, Ts...&gt;&gt; &#123;
  static constexpr size_t value = 1 + size_type&lt;Tuple&lt;Ts...&gt;&gt;::value;
&#125;;

print_value(size_type&lt;Tuple&lt;int, float, char&gt;&gt;::value); // 3
print_value(size_type&lt;Tuple&lt;int&gt;&gt;::value);              // 1
print_value(size_type&lt;Tuple&lt;&gt;&gt;::value);                 // 0
</code></pre>
<h2 id="åè¯­"><a href="#åè¯­" class="headerlink" title="åè¯­"></a>åè¯­</h2><p>è‡³æ­¤ï¼Œé€šè¿‡å¯¹ Tuple ç±»å‹æ“ä½œçš„ç®€å•å®ç°ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¯¹ Type traits æœ‰ä¸ªåˆæ­¥çš„ä½“ä¼šäº†ï¼Œå¦‚æœè§‰å¾—çŸ¥è¯†ä¸å¤Ÿå·©å›ºï¼Œæœ‰ç©ºçš„è¯è‡ªå·±å†™ä¸€éå§~</p>
<p>ä»¥ä¸Šä»£ç å‡åˆ†äº«åœ¨ <a target="_blank" rel="noopener" href="https://godbolt.org/z/G16rnEe58">godbolts</a> ä¸Šäº†ï¼Œå¤§å®¶æ„Ÿå…´è¶£çš„è¯å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šæ·»åŠ ä¸€äº› type traitsã€‚</p>
</article>
    
    <div id="giscus-container" class="giscus"></div>
    
    
  </div>
</div>


<script
  src="https://giscus.app/client.js"
  data-repo="aneureka/Aneureka.github.io"
  data-repo-id="MDEwOlJlcG9zaXRvcnkxMjY0Nzk4MzY="
  data-category="Announcements"
  data-category-id="DIC_kwDOB4nt3M4CX9S7"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="bottom"
  data-theme="light_protanopia"
  data-lang="en"
  crossorigin="anonymous"
  async
></script>



 <!-- Footer -->
<footer class="section">
  <div class="container main footer">
    <ul class="contact-list">
      
      <li class="contact-list-item">
        <a href="mailto:aneureka2@gmail.com">Email</a>
        <a href="mailto:aneureka2@gmail.com">ğŸ’Œ</a>
      </li>
      
      <li class="contact-list-item">
        <a target="_blank" rel="noopener" href="https://github.com/aneureka">Github</a>
        <a target="_blank" rel="noopener" href="https://github.com/aneureka">â­ï¸</a>
      </li>
      
      <li class="contact-list-item">
        <a target="_blank" rel="noopener" href="https://twitter.com/Aneureka">Twitter</a>
        <a target="_blank" rel="noopener" href="https://twitter.com/Aneureka">ğŸ¦</a>
      </li>
      
    </ul>
    <div class="copyright">
      æ•£è½çš„å¶å­ Â· 2017 -
      <script>
        document.write(new Date().getFullYear());
      </script>
      Â· <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn">ç²¤ICPå¤‡2021087752å·</a>
    </div>
  </div>
</footer>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script>
  hljs.highlightAll();
</script>


    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-56506279-6");
    </script>
  </body>
</html>
